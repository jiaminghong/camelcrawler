{"ast":null,"code":"import _objectWithoutProperties from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/src/App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { DEFAULT_QUERY, DEFAULT_HPP, PATH_BASE, PATH_SEARCH, PARAM_SEARCH, PARAM_PAGE, PARAM_HPP } from './constants/index.js';\nimport { Search, Table, Button } from './Components/index.js';\nimport { SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS } from 'constants'; // App ES6 class component\n// const updateSearchTopStoriesState = (hits, page) => (prevState) => {\n//   const { searchKey, results } = prevState;\n//   const oldHits = results && results[searchKey]\n//     ? results[searchKey].hits\n//     : [];\n//   const updatedHits = [\n//     ...oldHits,\n//     ...hits\n//   ];\n//   return {\n//     results: {\n//       ...results,\n//       [searchKey]: { hits: updatedHits, page }\n//     },\n//     isLoading: false\n//   };\n// };\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n    _this._isMounted = false;\n    _this.state = {\n      results: null,\n      searchKey: '',\n      searchTerm: DEFAULT_QUERY,\n      error: null,\n      isLoading: false,\n      sortKey: 'NONE',\n      isSortReverse: false,\n      urls: null,\n      tempList: [],\n      data: null,\n      links: []\n    };\n    _this.needsToSearchTopStories = _this.needsToSearchTopStories.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setSearchTopStories = _this.setSearchTopStories.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.fetchSearchTopStories = _this.fetchSearchTopStories.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSearchChange = _this.onSearchChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSearchSubmit = _this.onSearchSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onDismiss = _this.onDismiss.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.convertJson = _this.convertJson.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"needsToSearchTopStories\",\n    value: function needsToSearchTopStories(searchTerm) {\n      return !this.state.results[searchTerm];\n    }\n  }, {\n    key: \"setSearchTopStories\",\n    value: function setSearchTopStories(result) {\n      this.state.isLoading = false;\n      this.state.tempList = [{\n        link: \"ming.fun.com\"\n      }];\n      console.log(\"New Results\");\n      console.log(this.state.results); //this.setState(updateSearchTopStoriesState(result));\n    } // fetchSearchTopStories(searchTerm, page = 0) {\n    //   this.setState({ isLoading: true });\n    //   axios(`${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_PAGE}${page}&${PARAM_HPP}${DEFAULT_HPP}`)\n    //     .then(result => this.setSearchTopStories(result.data))\n    //     .catch(error => this._isMounted && this.setState({ error }));\n    // }\n\n  }, {\n    key: \"fetchSearchTopStories\",\n    value: function fetchSearchTopStories(searchTerm) {\n      var _this2 = this;\n\n      var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      this.setState({\n        isLoading: true\n      });\n      axios(\"http://localhost:9000/data/https://www.firesticktricks.com/dmca-policy\").then(function (result) {\n        return _this2.setSearchTopStories(result);\n      }).catch(function (error) {\n        return _this2._isMounted && _this2.setState({\n          error: error\n        });\n      });\n    } // component life cycle method\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this._isMounted = true;\n      var searchTerm = this.state.searchTerm;\n      this.setState({\n        searchKey: searchTerm\n      });\n      this.fetchSearchTopStories(searchTerm);\n      axios(\"http://localhost:9000/data/https://www.firesticktricks.com/dmca-policy\").then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        return _this3.setState({\n          links: data.link\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"onSearchChange\",\n    value: function onSearchChange(event) {\n      this.setState({\n        searchTerm: event.target.value\n      });\n    }\n  }, {\n    key: \"onSearchSubmit\",\n    value: function onSearchSubmit(event) {\n      var searchTerm = this.state.searchTerm;\n      this.setState({\n        searchKey: searchTerm\n      });\n\n      if (this.needsToSearchTopStories(searchTerm)) {\n        this.fetchSearchTopStories(searchTerm);\n      }\n\n      event.preventDefault();\n    }\n  }, {\n    key: \"onDismiss\",\n    value: function onDismiss(id) {\n      var _this$state = this.state,\n          searchKey = _this$state.searchKey,\n          results = _this$state.results;\n      var _results$searchKey = results[searchKey],\n          hits = _results$searchKey.hits,\n          page = _results$searchKey.page;\n\n      var isNotId = function isNotId(item) {\n        return item.objectID !== id;\n      };\n\n      var updatedHits = hits.filter(isNotId);\n      this.setState({\n        results: _objectSpread({}, results, _defineProperty({}, searchKey, {\n          hits: updatedHits,\n          page: page\n        }))\n      });\n    }\n  }, {\n    key: \"onSort\",\n    value: function onSort(sortKey) {\n      var isSortReverse = this.state.sortKey === sortKey && !this.state.isSortReverse;\n      this.setState({\n        sortKey: sortKey,\n        isSortReverse: isSortReverse\n      });\n    }\n  }, {\n    key: \"convertJson\",\n    value: function convertJson(listo) {\n      console.log(this.state.results);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state2 = this.state,\n          searchTerm = _this$state2.searchTerm,\n          results = _this$state2.results,\n          searchKey = _this$state2.searchKey,\n          error = _this$state2.error,\n          isLoading = _this$state2.isLoading,\n          listo = _this$state2.listo;\n      var page = 0;\n      var urls = [{\n        title: 'React'\n      }, {\n        title: 'Redux'\n      }];\n      var tempList = [{\n        link: \"https://www.firesticktricks.com/ipvanish-review.html\"\n      }, {\n        link: \"https://www.firesticktricks.com/how-to-use-kodi.html\"\n      }, {\n        link: \"https://www.firesticktricks.com/install-sportsdevil-on-kodi.html\"\n      }, {\n        link: \"https://www.firesticktricks.com/misfit-mods-lite-kodi-build.html\"\n      }];\n      var lists = [{\n        title: 'React',\n        url: 'https://reactjs.org/',\n        author: 'Jordan Walke',\n        num_comments: 3,\n        points: 4,\n        objectID: 0\n      }, {\n        title: 'Redux',\n        url: 'https://redux.js.org/',\n        author: 'Dan Abramov, Andrew Clark',\n        num_comments: 2,\n        points: 5,\n        objectID: 1\n      }];\n      var list = lists || [];\n      return React.createElement(\"div\", {\n        className: \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, links.map(function (link) {\n        return React.createElement(\"li\", {\n          key: link.link,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 201\n          },\n          __self: this\n        });\n      })), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Camel Crawler\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, \"Where camels scour the web, not spiders\"), React.createElement(\"div\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Button, {\n        isLoading: isLoading,\n        onClick: function onClick() {\n          return _this4.convertJson(listo);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"JSON\")), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, React.createElement(Search, {\n        value: searchTerm,\n        onChange: this.onSearchChange,\n        onSubmit: this.onSearchSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, \"Search\")), error ? React.createElement(\"div\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"Something went wrong.\")) : React.createElement(Table, {\n        list: list,\n        onDismiss: this.onDismiss,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"interactions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(ButtonWithLoading, {\n        isLoading: isLoading,\n        onClick: function onClick() {\n          return _this4.fetchSearchTopStories(searchKey, page + 1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"More\")));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar Loading = function Loading() {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }, \"Loading ...\");\n};\n\nvar withLoading = function withLoading(Component) {\n  return function (_ref) {\n    var isLoading = _ref.isLoading,\n        rest = _objectWithoutProperties(_ref, [\"isLoading\"]);\n\n    return isLoading ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }) : React.createElement(Component, Object.assign({}, rest, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }));\n  };\n};\n\nvar ButtonWithLoading = withLoading(Button);\nexport { Button, Search, Table };\nexport default App;","map":{"version":3,"sources":["/Users/zhangchi/Desktop/camelcrawler/REACT-front-end/src/App.js"],"names":["React","Component","axios","DEFAULT_QUERY","DEFAULT_HPP","PATH_BASE","PATH_SEARCH","PARAM_SEARCH","PARAM_PAGE","PARAM_HPP","Search","Table","Button","SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS","App","props","_isMounted","state","results","searchKey","searchTerm","error","isLoading","sortKey","isSortReverse","urls","tempList","data","links","needsToSearchTopStories","bind","setSearchTopStories","fetchSearchTopStories","onSearchChange","onSearchSubmit","onDismiss","convertJson","result","link","console","log","page","setState","then","catch","response","json","event","target","value","preventDefault","id","hits","isNotId","item","objectID","updatedHits","filter","listo","title","lists","url","author","num_comments","points","list","map","Loading","withLoading","rest","ButtonWithLoading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\nimport './App.css';\nimport { DEFAULT_QUERY, DEFAULT_HPP, PATH_BASE, PATH_SEARCH, PARAM_SEARCH, PARAM_PAGE, PARAM_HPP, } from './constants/index.js';\nimport { Search, Table, Button } from './Components/index.js'\nimport { SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS } from 'constants';\n\n// App ES6 class component\n// const updateSearchTopStoriesState = (hits, page) => (prevState) => {\n//   const { searchKey, results } = prevState;\n\n//   const oldHits = results && results[searchKey]\n//     ? results[searchKey].hits\n//     : [];\n\n//   const updatedHits = [\n//     ...oldHits,\n//     ...hits\n//   ];\n\n//   return {\n//     results: {\n//       ...results,\n//       [searchKey]: { hits: updatedHits, page }\n//     },\n//     isLoading: false\n//   };\n// };\n\n\nclass App extends Component {\n  _isMounted = false;\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      results: null,\n      searchKey: '',\n      searchTerm: DEFAULT_QUERY,\n      error: null,\n      isLoading: false,\n      sortKey: 'NONE',\n      isSortReverse: false,\n      urls:null,\n      tempList:[],\n      data:null,\n      links:[]   \n    };\n\n    this.needsToSearchTopStories = this.needsToSearchTopStories.bind(this);\n    this.setSearchTopStories = this.setSearchTopStories.bind(this);\n    this.fetchSearchTopStories = this.fetchSearchTopStories.bind(this);\n    this.onSearchChange = this.onSearchChange.bind(this);\n    this.onSearchSubmit = this.onSearchSubmit.bind(this);\n    this.onDismiss = this.onDismiss.bind(this);\n    this.convertJson = this.convertJson.bind(this);\n\n  }\n\n  needsToSearchTopStories(searchTerm) {\n    return !this.state.results[searchTerm];\n  }\n\n  setSearchTopStories(result) {\n    \n    this.state.isLoading = false\n    this.state.tempList = [{link: \"ming.fun.com\"}]\n    console.log(\"New Results\")\n    console.log(this.state.results)\n    //this.setState(updateSearchTopStoriesState(result));\n  }\n  \n\n  // fetchSearchTopStories(searchTerm, page = 0) {\n  //   this.setState({ isLoading: true });\n  //   axios(`${PATH_BASE}${PATH_SEARCH}?${PARAM_SEARCH}${searchTerm}&${PARAM_PAGE}${page}&${PARAM_HPP}${DEFAULT_HPP}`)\n  //     .then(result => this.setSearchTopStories(result.data))\n  //     .catch(error => this._isMounted && this.setState({ error }));\n  // }\n  \n  fetchSearchTopStories(searchTerm, page = 0) {\n    this.setState({ isLoading: true });\n    axios(`http://localhost:9000/data/https://www.firesticktricks.com/dmca-policy`)\n      .then(result => this.setSearchTopStories(result))\n      .catch(error => this._isMounted && this.setState({ error }));\n  }\n  // component life cycle method\n  componentDidMount() {\n    this._isMounted = true;\n\n    const { searchTerm } = this.state;\n    this.setState({ searchKey: searchTerm });\n    this.fetchSearchTopStories(searchTerm);\n\n\n    axios(`http://localhost:9000/data/https://www.firesticktricks.com/dmca-policy`)\n    .then(response => response.json())\n    .then(data => this.setState({links:data.link}))\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  onSearchChange(event) {\n    this.setState({ searchTerm: event.target.value });\n  }\n\n  onSearchSubmit(event) {\n    const { searchTerm } = this.state;\n    this.setState({ searchKey: searchTerm });\n\n    if (this.needsToSearchTopStories(searchTerm)) {\n      this.fetchSearchTopStories(searchTerm);\n    }\n\n    event.preventDefault();\n  }\n\n  onDismiss(id) {\n    const { searchKey, results } = this.state;\n    const { hits, page } = results[searchKey];\n    const isNotId = item => item.objectID !== id;\n    const updatedHits = hits.filter(isNotId);\n    this.setState({\n      results: {\n        ...results,\n        [searchKey]: { hits: updatedHits, page }\n      }\n    });\n  }\n\n\n\n\n  onSort(sortKey) {\n    const isSortReverse = this.state.sortKey === sortKey && !this.state.isSortReverse;\n    this.setState({ sortKey, isSortReverse });\n  }\n\n  convertJson(listo){\n    console.log(this.state.results)\n  }\n\n  render() {\n\n    const {\n      searchTerm,\n      results,\n      searchKey,\n      error,\n      isLoading,\n      listo,\n    } = this.state;\n\n    const page = 0;\n    const urls = [\n      {\n        title: 'React',\n      },\n      {\n        title: 'Redux',\n      },\n    ];\n    \n\n    const tempList = [{link: \"https://www.firesticktricks.com/ipvanish-review.html\"},{link: \"https://www.firesticktricks.com/how-to-use-kodi.html\"},{link: \"https://www.firesticktricks.com/install-sportsdevil-on-kodi.html\"},{link: \"https://www.firesticktricks.com/misfit-mods-lite-kodi-build.html\"}]\n\n\n    const lists = [\n      {\n        title: 'React',\n        url: 'https://reactjs.org/',\n        author: 'Jordan Walke',\n        num_comments: 3,\n        points: 4,\n        objectID: 0,\n      },\n      {\n        title: 'Redux',\n        url: 'https://redux.js.org/',\n        author: 'Dan Abramov, Andrew Clark',\n        num_comments: 2,\n        points: 5,\n        objectID: 1,\n      },\n    ];\n\n    const list = (\n      lists\n    ) || [];\n    \n\n    return (\n      \n      <div className=\"page\">\n<ul>\n        {links.map(link =>\n          <li key={link.link}>\n            \n          </li>\n        )}\n      </ul>\n        <h1>Camel Crawler</h1>\n        <h3>Where camels scour the web, not spiders</h3>\n        <div className=\"interactions\">\n          <Button\n            isLoading={isLoading}\n            onClick={() => this.convertJson(listo)}>\n            JSON\n        </Button>\n        </div>\n        <hr></hr>\n        <div className=\"interactions\">\n          <Search\n            value={searchTerm}\n            onChange={this.onSearchChange}\n            onSubmit={this.onSearchSubmit}\n          >\n            Search\n      </Search>\n        </div>\n        {error\n          ? <div className=\"interactions\">\n            <p>Something went wrong.</p>\n          </div>\n          : <Table\n            list={list}\n            onDismiss={this.onDismiss}\n          />\n        }\n        <div className=\"interactions\">\n          <ButtonWithLoading\n            isLoading={isLoading}\n            onClick={() => this.fetchSearchTopStories(searchKey, page + 1)}>\n            More\n        </ButtonWithLoading>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst Loading = () =>\n  <div>Loading ...</div>\n\nconst withLoading = (Component) => ({ isLoading, ...rest }) =>\n  isLoading\n    ? <Loading />\n    : <Component {...rest} />\n\nconst ButtonWithLoading = withLoading(Button);\n\nexport {\n  Button,\n  Search,\n  Table,\n};\n\n\n\nexport default App;"]},"metadata":{},"sourceType":"module"}